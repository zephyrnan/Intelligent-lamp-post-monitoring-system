# æ³¨æ„äº‹é¡¹

æˆ‘æ˜¯è¯¥é¡¹ç›®å‰ç«¯å¼€å‘äººå‘˜ï¼Œä½†ç”±äºåæœŸè®¾å¤‡é™åˆ¶ï¼Œæˆ‘è‡ªå†™åç«¯ï¼Œä¿®æ”¹äº†å‰ç«¯ï¼Œåç«¯ä¹‹å‰æ˜¯SpringBootå’Œjavaå†™çš„ï¼Œå¯¹æ¥ç¡¬ä»¶å’Œå‰ç«¯ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œè¯·æŒ‡æ­£


# æ™ºèƒ½ç¯æ†ç›‘æ§ç³»ç»Ÿ

åŸºäº Vue 3 + Node.js + MongoDB çš„æ™ºèƒ½ç¯æ†ç›‘æ§ç³»ç»Ÿï¼Œæä¾›å®æ—¶ç›‘æ§ã€å†å²æ•°æ®åˆ†æã€æŠ¥è­¦ç®¡ç†å’Œäººå‘˜æ£€æµ‹ç­‰åŠŸèƒ½ã€‚

<img width="1323" height="668" alt="å±å¹•æˆªå›¾ 2025-12-07 021828" src="https://github.com/user-attachments/assets/29960ffb-936d-4e0d-be72-daba5a7c7d79" />
<img width="1717" height="843" alt="å±å¹•æˆªå›¾ 2025-12-07 014829" src="https://github.com/user-attachments/assets/7dd09450-8d66-469f-8a2f-5f29b0c51c42" />

## é¡¹ç›®ç®€ä»‹

æ™ºèƒ½ç¯æ†ç›‘æ§ç³»ç»Ÿæ˜¯ä¸€ä¸ªå®Œæ•´çš„ç‰©è”ç½‘ç›‘æ§è§£å†³æ–¹æ¡ˆï¼ŒåŒ…å«å‰ç«¯å±•ç¤ºç•Œé¢å’Œåç«¯æœåŠ¡ã€‚ç³»ç»Ÿæ”¯æŒå¤šä¸ªç›‘æ§ç‚¹çš„å®æ—¶æ•°æ®é‡‡é›†ã€è§†é¢‘ç›‘æ§ã€æ™ºèƒ½æŠ¥è­¦å’Œæ•°æ®åˆ†æåŠŸèƒ½ã€‚

## ç³»ç»Ÿæ¶æ„

```
æ™ºèƒ½ç¯æ†ç›‘æ§ç³»ç»Ÿ
â”œâ”€â”€ frontend/          # Vue 3 å‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ views/         # é¡µé¢è§†å›¾
â”‚   â”‚   â”œâ”€â”€ components/    # ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ api/          # API æ¥å£
â”‚   â”‚   â”œâ”€â”€ stores/       # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â””â”€â”€ types/        # ç±»å‹å®šä¹‰
â”‚   â””â”€â”€ README.md     # å‰ç«¯æ–‡æ¡£
â”‚
â””â”€â”€ backend/           # Node.js åç«¯æœåŠ¡
    â”œâ”€â”€ routes/           # è·¯ç”±
    â”œâ”€â”€ module/           # æ•°æ®æ¨¡å‹
    â””â”€â”€ README.md     # åç«¯æ–‡æ¡£
```

## æ ¸å¿ƒåŠŸèƒ½

### ğŸ  æˆ¿é—´ç›‘æ§
- å®æ—¶ç›‘æ§å¤šä¸ªæˆ¿é—´çš„ç¯å¢ƒæ•°æ®
- æ¸©åº¦ã€æ¹¿åº¦ã€çƒŸé›¾ã€å…‰ç…§ç­‰å¤šç»´åº¦æ•°æ®é‡‡é›†
- è®¾å¤‡çŠ¶æ€å®æ—¶æ˜¾ç¤º
- å¯è§†åŒ–æ•°æ®å±•ç¤º

### ğŸ“¹ è§†é¢‘ç›‘æ§
- å®æ—¶è§†é¢‘æµä¼ è¾“ï¼ˆWebSocketï¼‰
- å¤šæˆ¿é—´è§†é¢‘ç›‘æ§
- è§†é¢‘æµçŠ¶æ€ç›‘æ§

### ğŸ‘¥ äººå‘˜æ£€æµ‹
- AI äººå‘˜æ£€æµ‹åŠŸèƒ½
- æ£€æµ‹ç»“æœå¯è§†åŒ–
- å†å²æ£€æµ‹è®°å½•
- åŸå§‹å›¾ç‰‡å’Œæ£€æµ‹å›¾ç‰‡å¯¹æ¯”

### ğŸš¨ æŠ¥è­¦ç®¡ç†
- å¤šçº§åˆ«æŠ¥è­¦ç³»ç»Ÿï¼ˆä½/ä¸­/é«˜/ä¸¥é‡ï¼‰
- æŠ¥è­¦ç¡®è®¤å’Œå¤„ç†æµç¨‹
- æŠ¥è­¦ç»Ÿè®¡åˆ†æ
- æŠ¥è­¦å†å²æŸ¥è¯¢

### ğŸ“Š æ•°æ®åˆ†æ
- å†å²æ•°æ®è¶‹åŠ¿å›¾ï¼ˆEChartsï¼‰
- å¤šæŒ‡æ ‡å¯¹æ¯”åˆ†æ
- æ•°æ®èšåˆï¼ˆæŒ‰å°æ—¶/å¤©/å‘¨ï¼‰
- ç»Ÿè®¡æŠ¥è¡¨

### ğŸ›ï¸ è®¾å¤‡æ§åˆ¶
- è¿œç¨‹è®¾å¤‡å¼€å…³æ§åˆ¶
- å®æ—¶æ§åˆ¶çŠ¶æ€åé¦ˆ
- æ‰¹é‡è®¾å¤‡ç®¡ç†

## æŠ€æœ¯æ ˆ

### å‰ç«¯æŠ€æœ¯
- **Vue 3** - æ¸è¿›å¼ JavaScript æ¡†æ¶
- **TypeScript** - ç±»å‹å®‰å…¨
- **Vite** - å¿«é€Ÿæ„å»ºå·¥å…·
- **Element Plus** - UI ç»„ä»¶åº“
- **Pinia** - çŠ¶æ€ç®¡ç†
- **ECharts** - æ•°æ®å¯è§†åŒ–
- **Socket.IO Client** - å®æ—¶é€šä¿¡

### åç«¯æŠ€æœ¯
- **Node.js** - JavaScript è¿è¡Œæ—¶
- **Express** - Web åº”ç”¨æ¡†æ¶
- **MongoDB** - NoSQL æ•°æ®åº“
- **Mongoose** - ODM åº“
- **Socket.IO** - WebSocket æœåŠ¡

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- **Node.js**: >= 20.19.0
- **MongoDB**: >= 5.0.0
- **npm/yarn/pnpm**: æœ€æ–°ç¨³å®šç‰ˆ

### å®‰è£…æ­¥éª¤

#### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/zephyrnan/Intelligent-lamp-post-monitoring-system.git
cd Intelligent-lamp-post-monitoring-system
```

#### 2. å®‰è£…å¹¶å¯åŠ¨åç«¯

```bash
# è¿›å…¥åç«¯ç›®å½•
cd backend

# å®‰è£…ä¾èµ–
npm install

# ç¡®ä¿ MongoDB å·²å¯åŠ¨
# Windows: åœ¨æœåŠ¡ä¸­å¯åŠ¨ MongoDB
# macOS/Linux: sudo systemctl start mongodb

# å¯åŠ¨åç«¯æœåŠ¡
npm start
```

åç«¯æœåŠ¡å°†åœ¨ `http://localhost:3000` å¯åŠ¨

#### 3. å®‰è£…å¹¶å¯åŠ¨å‰ç«¯

```bash
# æ‰“å¼€æ–°ç»ˆç«¯ï¼Œè¿›å…¥å‰ç«¯ç›®å½•
cd frontend

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

å‰ç«¯åº”ç”¨å°†åœ¨ `http://localhost:5173` å¯åŠ¨

### è®¿é—®åº”ç”¨

æ‰“å¼€æµè§ˆå™¨è®¿é—®: `http://localhost:5173`

## é¡¹ç›®ç»“æ„

### å‰ç«¯ç»“æ„
```
frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/                    # API æ¥å£
â”‚   â”œâ”€â”€ components/            # ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ charts/           # å›¾è¡¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ common/           # é€šç”¨ç»„ä»¶
â”‚   â”‚   â””â”€â”€ layout/           # å¸ƒå±€ç»„ä»¶
â”‚   â”œâ”€â”€ stores/               # Pinia çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ views/                # é¡µé¢è§†å›¾
â”‚   â”œâ”€â”€ types/                # TypeScript ç±»å‹
â”‚   â”œâ”€â”€ router/               # è·¯ç”±é…ç½®
â”‚   â””â”€â”€ assets/               # é™æ€èµ„æº
â”œâ”€â”€ public/                   # å…¬å…±èµ„æº
â”œâ”€â”€ package.json             # ä¾èµ–é…ç½®
â””â”€â”€ README.md               # å‰ç«¯æ–‡æ¡£
```

### åç«¯ç»“æ„
```
backend/
â”œâ”€â”€ routes/                   # è·¯ç”±å¤„ç†
â”‚   â”œâ”€â”€ rooms.js             # æˆ¿é—´æ•°æ®è·¯ç”±
â”‚   â”œâ”€â”€ alarms.js            # æŠ¥è­¦ç®¡ç†è·¯ç”±
â”‚   â”œâ”€â”€ detections.js        # äººå‘˜æ£€æµ‹è·¯ç”±
â”‚   â””â”€â”€ roomslist.js         # å†å²æ•°æ®è·¯ç”±
â”œâ”€â”€ module/                   # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ Alarm.js             # æŠ¥è­¦æ¨¡å‹
â”‚   â”œâ”€â”€ PersonDetection.js   # æ£€æµ‹æ¨¡å‹
â”‚   â””â”€â”€ RoomsList.js         # å†å²æ•°æ®æ¨¡å‹
â”œâ”€â”€ bin/
â”‚   â””â”€â”€ www                   # å¯åŠ¨è„šæœ¬
â”œâ”€â”€ app.js                    # åº”ç”¨å…¥å£
â”œâ”€â”€ package.json             # ä¾èµ–é…ç½®
â””â”€â”€ README.md               # åç«¯æ–‡æ¡£
```

## é…ç½®è¯´æ˜

### åç«¯é…ç½®

ä¿®æ”¹ `backend/app.js` ä¸­çš„æ•°æ®åº“è¿æ¥ï¼š

```javascript
mongoose.connect('mongodb://localhost:27017/roomMonitor')
```

ä¿®æ”¹ `backend/app.js` ä¸­çš„ CORS é…ç½®ï¼ˆå¦‚éœ€é™åˆ¶æ¥æºï¼‰ï¼š

```javascript
res.header("Access-Control-Allow-Origin", "*"); // ä¿®æ”¹ä¸ºå…·ä½“åŸŸå
```

### å‰ç«¯é…ç½®

ä¿®æ”¹ `frontend/src/api/` ä¸­å„ä¸ª API æ–‡ä»¶çš„ `API_BASE` å¸¸é‡ï¼š

```typescript
const API_BASE = 'http://localhost:3000'  // ä¿®æ”¹ä¸ºåç«¯å®é™…åœ°å€
```

## API æ–‡æ¡£

è¯¦ç»†çš„ API æ–‡æ¡£è¯·æŸ¥çœ‹ [backend/README.md](backend/README.md)

ä¸»è¦ API ç«¯ç‚¹ï¼š

- `GET /rooms` - è·å–æ‰€æœ‰æˆ¿é—´
- `GET /rooms/:id` - è·å–å•ä¸ªæˆ¿é—´æ•°æ®
- `GET /history` - è·å–å†å²æ•°æ®
- `GET /alarms` - è·å–æŠ¥è­¦åˆ—è¡¨
- `POST /alarms` - åˆ›å»ºæŠ¥è­¦
- `POST /detections/detect/:roomId` - è§¦å‘äººå‘˜æ£€æµ‹
- `GET /detections` - è·å–æ£€æµ‹å†å²

## éƒ¨ç½²æŒ‡å—

### å¼€å‘ç¯å¢ƒ

```bash
# åç«¯
cd backend && npm start

# å‰ç«¯
cd frontend && npm run dev
```

### ç”Ÿäº§ç¯å¢ƒ

#### åç«¯éƒ¨ç½²

```bash
# ä½¿ç”¨ PM2
npm install -g pm2
cd backend
pm2 start bin/www --name room-monitor-backend

# æˆ–ä½¿ç”¨ Docker
docker-compose up -d
```

#### å‰ç«¯éƒ¨ç½²

```bash
cd frontend
npm run build

# å°† dist/ ç›®å½•éƒ¨ç½²åˆ° Nginx æˆ–å…¶ä»– Web æœåŠ¡å™¨
```

è¯¦ç»†éƒ¨ç½²è¯´æ˜è¯·æŸ¥çœ‹å„å­é¡¹ç›®çš„ READMEã€‚

## å¼€å‘æŒ‡å—

### æ·»åŠ æ–°åŠŸèƒ½

1. **åç«¯æ·»åŠ  API**
   - åœ¨ `backend/module/` åˆ›å»ºæ•°æ®æ¨¡å‹
   - åœ¨ `backend/routes/` åˆ›å»ºè·¯ç”±
   - åœ¨ `backend/app.js` æ³¨å†Œè·¯ç”±

2. **å‰ç«¯æ·»åŠ é¡µé¢**
   - åœ¨ `frontend/src/views/` åˆ›å»ºé¡µé¢ç»„ä»¶
   - åœ¨ `frontend/src/api/` åˆ›å»º API æ¥å£
   - åœ¨ `frontend/src/router/` æ·»åŠ è·¯ç”±

### ä»£ç è§„èŒƒ

- ä½¿ç”¨ ESLint è¿›è¡Œä»£ç æ£€æŸ¥
- éµå¾ª Vue 3 Composition API è§„èŒƒ
- ä½¿ç”¨ TypeScript ç±»å‹å®šä¹‰
- ç»„ä»¶å‘½åä½¿ç”¨ PascalCase
- API æ¥å£ä½¿ç”¨ camelCase

## å¸¸è§é—®é¢˜

### 1. æ— æ³•è¿æ¥åˆ°æ•°æ®åº“

ç¡®è®¤ MongoDB æœåŠ¡å·²å¯åŠ¨ï¼š
```bash
# Windows
net start MongoDB

# macOS/Linux
sudo systemctl start mongodb
```

### 2. å‰ç«¯æ— æ³•è¿æ¥åç«¯

- æ£€æŸ¥åç«¯æœåŠ¡æ˜¯å¦è¿è¡Œåœ¨ `http://localhost:3000`
- ç¡®è®¤ CORS é…ç½®æ­£ç¡®
- æ£€æŸ¥é˜²ç«å¢™è®¾ç½®

### 3. WebSocket è¿æ¥å¤±è´¥

- ç¡®è®¤åç«¯ Socket.IO æ­£å¸¸è¿è¡Œ
- æ£€æŸ¥å‰ç«¯ WebSocket URL é…ç½®
- æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ä¿¡æ¯

## æ€§èƒ½ä¼˜åŒ–

- å‰ç«¯ä½¿ç”¨ä»£ç åˆ†å‰²å’Œæ‡’åŠ è½½
- åç«¯ä½¿ç”¨ MongoDB ç´¢å¼•ä¼˜åŒ–æŸ¥è¯¢
- ä½¿ç”¨ Redis ç¼“å­˜çƒ­ç‚¹æ•°æ®ï¼ˆå¯é€‰ï¼‰
- å¯ç”¨ gzip å‹ç¼©
- ä½¿ç”¨ CDN åŠ é€Ÿé™æ€èµ„æº

## å®‰å…¨æ€§

- ä½¿ç”¨ HTTPS åŠ å¯†ä¼ è¾“
- å®æ–½ CORS è®¿é—®æ§åˆ¶
- è¾“å…¥æ•°æ®éªŒè¯å’Œè¿‡æ»¤
- é˜²æ­¢ SQL/NoSQL æ³¨å…¥
- å®šæœŸæ›´æ–°ä¾èµ–åŒ…

## ç›‘æ§å’Œæ—¥å¿—

- ä½¿ç”¨ PM2 è¿›è¡Œè¿›ç¨‹ç®¡ç†å’Œç›‘æ§
- ä½¿ç”¨ Morgan è®°å½• HTTP è¯·æ±‚
- ä½¿ç”¨ MongoDB æ…¢æŸ¥è¯¢æ—¥å¿—
- å®æ–½åº”ç”¨æ€§èƒ½ç›‘æ§ï¼ˆAPMï¼‰

## è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## è”ç³»æ–¹å¼

- é¡¹ç›®åœ°å€: https://github.com/zephyrnan/Intelligent-lamp-post-monitoring-system
- æäº¤ Issue: https://github.com/zephyrnan/Intelligent-lamp-post-monitoring-system/issues

## è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸ºè¿™ä¸ªé¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…ï¼

## æ›´æ–°æ—¥å¿—

### v1.0.0 (2024-01-XX)

**æ–°å¢åŠŸèƒ½**
- âœ¨ å®æ—¶ç›‘æ§ç³»ç»Ÿ
- âœ¨ è§†é¢‘ç›‘æ§åŠŸèƒ½
- âœ¨ äººå‘˜æ£€æµ‹åŠŸèƒ½
- âœ¨ æŠ¥è­¦ç®¡ç†ç³»ç»Ÿ
- âœ¨ å†å²æ•°æ®åˆ†æ
- âœ¨ è®¾å¤‡è¿œç¨‹æ§åˆ¶
- âœ¨ WebSocket å®æ—¶é€šä¿¡

**æŠ€æœ¯æ ˆ**
- å‰ç«¯: Vue 3 + TypeScript + Vite
- åç«¯: Node.js + Express + MongoDB
- å®æ—¶é€šä¿¡: Socket.IO
- æ•°æ®å¯è§†åŒ–: ECharts

---

**æ³¨**: è¯¦ç»†çš„åŠŸèƒ½è¯´æ˜å’Œä½¿ç”¨æŒ‡å—è¯·æŸ¥çœ‹ [frontend/README.md](frontend/README.md) å’Œ [backend/README.md](backend/README.md)
